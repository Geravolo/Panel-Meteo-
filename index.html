<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>DNAPN – Información Meteorológica</title>
  <style>
    body {
      background-color: #222;
      color: #fff;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
    }
    h1 {
      text-align: center;
      margin: 10px;
    }
    /* Contenedor de relojes */
    #clocks {
      display: flex;
      justify-content: center;
      gap: 40px;
      margin: 20px 0;
    }
    .clock {
      font-size: 1.2em;
    }
    .clock-label {
      font-weight: bold;
      margin-right: 5px;
    }
    /* Sección de METARs */
    .metar-section {
      width: 90%;
      max-width: 800px;
      margin: 0 auto 20px auto;
    }
    .metar-box {
      background-color: #24497F;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 5px;
    }
    .metar-title {
      font-size: 1.1em;
      margin-bottom: 5px;
    }
    .metar-content {
      font-family: monospace;
    }
  </style>
</head>
<body>
  <h1>DEPARTAMENTO DE OPERACIONES AÉREAS – INFORMACIÓN METEOROLÓGICA</h1>

  <!-- Relojes digitales -->
  <div id="clocks">
    <div class="clock"><span class="clock-label">Uruguay:</span><span id="clock-uruguay"></span></div>
    <div class="clock"><span class="clock-label">Zulu (UTC):</span><span id="clock-zulu"></span></div>
  </div>

  <!-- Sección de METARs -->
  <div class="metar-section">
    <!-- METAR Carrasco (SUMU) – aparece solo una vez -->
    <div class="metar-box">
      <div class="metar-title">METAR Carrasco (SUMU) - Referencia</div>
      <div class="metar-content" id="metar-sumu">
        SUMU METAR 062000Z 17004KT CAVOK 20/14 Q1016 NOSIG
      </div>
    </div>
    <!-- Ejemplo de otros METAR -->
    <div class="metar-box">
      <div class="metar-title">METAR Durazno (SUDU)</div>
      <div class="metar-content">SUDU METAR 062000Z 10006KT 9999 FEW040 20/15 Q1020 NOSIG</div>
    </div>
    <div class="metar-box">
      <div class="metar-title">METAR Salto (SUSO)</div>
      <div class="metar-content">SUSO METAR 062000Z 11009KT 9999 SCT020 23/13 Q1018</div>
    </div>
    <!-- Agregar aquí más bloques de METAR según sea necesario -->
  </div>

  <script>
    // Función para actualizar los relojes cada segundo
    function updateClocks() {
      const now = new Date();
      // Opciones para formato 24h con dos dígitos
      const options = { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false };
      // Hora local (Montevideo, Uruguay)
      document.getElementById('clock-uruguay').textContent = 
        now.toLocaleTimeString('es-UY', { timeZone: 'America/Montevideo', ...options });
      // Hora Zulu (UTC)
      document.getElementById('clock-zulu').textContent = 
        now.toLocaleTimeString('en-GB', { timeZone: 'UTC', ...options });
    }
    // Iniciar actualización de relojes
    setInterval(updateClocks, 1000);
    updateClocks();

    // Recarga la página puntualmente al comenzar cada hora
    (function scheduleHourlyReload() {
      const now = new Date();
      // Fijar la siguiente hora en punto (minuto 0, segundo 0)
      const nextHour = new Date(now.getFullYear(), now.getMonth(), now.getDate(), now.getHours() + 1, 0, 0, 0);
      const timeToNextHour = nextHour.getTime() - now.getTime();
      setTimeout(function() {
        location.reload();
      }, timeToNextHour);
    })();
  </script>
</body>
</html>
